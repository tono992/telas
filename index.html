<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agenda Nocturna con Copiar</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #1e1e1e; /* Fondo oscuro */
            color: #e0e0e0; /* Texto claro */
        }
        textarea {
            width: 100%;
            height: 100px;
            padding: 10px;
            font-size: 16px;
            margin-bottom: 10px;
            background-color: #2d2d2d; /* Fondo oscuro para el textarea */
            color: #e0e0e0; /* Texto claro */
            border: 1px solid #444; /* Borde suave */
            border-radius: 5px;
        }
        button {
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
            border: none;
            border-radius: 5px;
            margin-right: 10px;
        }
        button:hover {
            opacity: 0.9;
        }
        #agenda {
            margin-top: 20px;
        }
        ul {
            list-style-type: none;
            padding: 0;
        }
        li {
            padding: 10px;
            margin-bottom: 10px;
            background-color: #2d2d2d; /* Fondo oscuro para los elementos */
            border: 1px solid #444; /* Borde suave */
            border-radius: 5px;
            word-wrap: break-word;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        a {
            color: #4dabf7; /* Azul suave para enlaces */
            text-decoration: none;
        }
        a:hover {
            text-decoration: underline;
        }
        .acciones {
            display: flex;
            gap: 10px; /* Espacio entre los botones */
        }
        .eliminar-item, .copiar-item {
            cursor: pointer;
            font-weight: bold;
            margin-left: 10px;
        }
        .eliminar-item {
            color: #ff6b6b; /* Rojo suave para la x */
        }
        .copiar-item {
            color: #4dabf7; /* Azul suave para el cc */
        }
        /* Estilos específicos para los botones */
        #btn-guardar {
            background-color: #4dabf7; /* Azul suave */
            color: #fff;
        }
        #btn-eliminar-todo {
            background-color: #ff6b6b; /* Rojo suave */
            color: #fff;
        }
    </style>
</head>
<body>

    <h1>Agenda Nocturna con Copiar</h1>
    <textarea id="entrada" placeholder="Escribe algo para guardar..."></textarea>
    <div>
        <button id="btn-guardar" onclick="guardar()">Guardar</button>
        <button id="btn-eliminar-todo" onclick="eliminarTodo()">Eliminar Todo</button>
    </div>

    <div id="agenda">
        <h2>Elementos Guardados:</h2>
        <ul id="lista"></ul>
    </div>

    <script>
        function guardar() {
            // Obtener el valor del textarea
            var entrada = document.getElementById('entrada').value;

            // Verificar que la entrada no esté vacía
            if (entrada.trim() === "") {
                alert("Por favor, escribe algo para guardar.");
                return;
            }

            // Convertir enlaces en texto a links clickeables
            entrada = entrada.replace(/(https?:\/\/[^\s]+)/g, '<a href="$1" target="_blank">$1</a>');

            // Crear un nuevo elemento de lista
            var li = document.createElement("li");
            li.innerHTML = entrada; // Usar innerHTML para interpretar el enlace como HTML

            // Contenedor para los botones de acciones
            var acciones = document.createElement("div");
            acciones.className = "acciones";

            // Botón para copiar el texto
            var spanCopiar = document.createElement("span");
            spanCopiar.className = "copiar-item";
            spanCopiar.innerHTML = "cc";
            spanCopiar.onclick = function() {
                copiarTexto(li.childNodes[0].textContent); // Copiar solo el texto guardado
            };
            acciones.appendChild(spanCopiar);

            // Botón para eliminar el elemento
            var spanEliminar = document.createElement("span");
            spanEliminar.className = "eliminar-item";
            spanEliminar.innerHTML = "x";
            spanEliminar.onclick = function() {
                li.remove(); // Eliminar el elemento al hacer clic en la x
            };
            acciones.appendChild(spanEliminar);

            // Añadir los botones al elemento de la lista
            li.appendChild(acciones);

            // Añadir el nuevo elemento a la lista
            document.getElementById("lista").appendChild(li);

            // Limpiar el textarea
            document.getElementById('entrada').value = "";
        }

        function eliminarTodo() {
            // Eliminar todos los elementos de la lista
            var lista = document.getElementById("lista");
            while (lista.firstChild) {
                lista.removeChild(lista.firstChild);
            }
        }

        function copiarTexto(texto) {
            // Crear un textarea temporal para copiar el texto
            var textareaTemp = document.createElement("textarea");
            textareaTemp.value = texto;
            document.body.appendChild(textareaTemp);
            textareaTemp.select();
            document.execCommand("copy"); // Copiar el texto
            document.body.removeChild(textareaTemp); // Eliminar el textarea temporal

            // Mostrar un mensaje de éxito
            //alert("Texto copiado: " + texto);
        }
    </script>

</body>
</html>
